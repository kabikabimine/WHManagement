document.addEventListener('DOMContentLoaded', function() {
    // Lấy URL hiện tại
    var currentPath = window.location.pathname;

    // Lặp qua tất cả các liên kết trong thanh điều hướng
    document.querySelectorAll('.nav-link').forEach(link => {
      // So sánh URL của liên kết với URL hiện tại
      if (link.getAttribute('href') === currentPath) {
        // Thêm lớp 'active' vào liên kết hiện tại
        link.classList.add('active');
        // Thêm lớp 'bg-gradient-primary' nếu cần
        link.classList.add('bg-gradient-primary');
      }
    });
  });




// switch import


document.addEventListener('DOMContentLoaded', function() {
  // Khai báo các phần tử switch và form
  var switches = [
    { switchId: 'switch1', formId: 'form1', storageKey: 'switchState1' },
    { switchId: 'switch2', formId: 'form2', storageKey: 'switchState2' },
    { switchId: 'switch3', formId: 'form3', storageKey: 'switchState3' }
  ];

  // Duyệt qua từng switch để xử lý sự kiện và khôi phục trạng thái
  switches.forEach(function(item) {
    var switchElement = document.getElementById(item.switchId);
    var formElement = document.getElementById(item.formId);

    // Kiểm tra trạng thái trong localStorage
    var switchState = localStorage.getItem(item.storageKey);
    if (switchState === 'on') {
      switchElement.checked = true;
      formElement.style.display = 'block';
    }

    // Xử lý sự kiện thay đổi trạng thái của switch
    switchElement.addEventListener('change', function() {
      if (this.checked) {
        formElement.style.display = 'block';
        localStorage.setItem(item.storageKey, 'on'); // Lưu trạng thái "on" cho switch này
      } else {
        formElement.style.display = 'none';
        localStorage.setItem(item.storageKey, 'off'); // Lưu trạng thái "off"
      }
    });
  });
});



$(document).ready(function() {
  $('#form1').on('submit', function(event) {
      event.preventDefault(); // Ngăn không cho form gửi mặc định

      $.ajax({
          url: '/import',
          type: 'POST',
          data: $(this).serialize(), // Serialize dữ liệu form
          success: function(response) {
              alert('Data imported successfully');
              console.log(response);
              // Reset form fields
              $('#form1')[0].reset();
          },
          error: function(error) {
              alert('Error importing data');
              console.error(error);
          }
      });
  });
});


let quantityClass = item.QuantityTotal < 100 ? 'low-quantity' : '';
inventoryHtml += `<td class="text-center align-middle ${quantityClass}">${item.QuantityTotal}</td>`;
